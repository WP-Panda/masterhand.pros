<?php
	/**
	 * @package quest-help.rus
	 * @author  WP_Panda
	 * @version 1.0.0
	 */

	defined( 'ABSPATH' ) || exit;

	function wpp_debug_panel() {

		if ( ! is_wpp_panda() ) {
			return false;
		}
		?>

        <div class="wpp-debug-panel">
            <div class="wpp-debug-panel-icon">
                <svg height="50" viewBox="0 0 512 512" width="50" xmlns="http://www.w3.org/2000/svg">
                    <g id="filled_outline" data-name="filled outline">
                        <path d="m479.568 408a146.029 146.029 0 0 1 -31.568 80h-384a146.029 146.029 0 0 1 -31.568-80z"
                              fill="#e6af89"/>
                        <path d="m35.561 208c18.86-104.626 110.38-184 220.439-184 110.059 0 201.579 79.374 220.439 184z"
                              fill="#e6af89"/>
                        <rect fill="#915628" height="80" rx="40" width="464" x="24" y="240"/>
                        <path d="m240 280a8 8 0 0 1 -5.657-13.657l32-32a8 8 0 0 1 11.314 11.314l-32 32a7.976 7.976 0 0 1 -5.657 2.343z"
                              fill="#7a4922"/>
                        <path d="m288 280a8 8 0 0 1 -5.657-13.657l32-32a8 8 0 0 1 11.314 11.314l-32 32a7.976 7.976 0 0 1 -5.657 2.343z"
                              fill="#7a4922"/>
                        <path d="m192 280a8 8 0 0 1 -5.657-13.657l32-32a8 8 0 0 1 11.314 11.314l-32 32a7.976 7.976 0 0 1 -5.657 2.343z"
                              fill="#7a4922"/>
                        <path d="m144 280a8 8 0 0 1 -5.657-13.657l32-32a8 8 0 0 1 11.314 11.314l-32 32a7.976 7.976 0 0 1 -5.657 2.343z"
                              fill="#7a4922"/>
                        <path d="m96 280a8 8 0 0 1 -5.657-13.657l32-32a8 8 0 0 1 11.314 11.314l-32 32a7.976 7.976 0 0 1 -5.657 2.343z"
                              fill="#7a4922"/>
                        <path d="m40 320h248v32h-248z" fill="#cb2527"/>
                        <path d="m288 320h184v32h-184z" fill="#b22122"/>
                        <rect fill="#7fa038" height="40" rx="20" width="208" x="280" y="352"/>
                        <rect fill="#8eb23e" height="40" rx="20" width="208" x="160" y="352"/>
                        <rect fill="#7fa038" height="40" rx="20" width="208" x="24" y="352"/>
                        <path d="m304 184h-16a8 8 0 0 1 0-16h16a8 8 0 0 1 0 16z" fill="#f6bb92"/>
                        <path d="m400 184h-64a8 8 0 0 1 0-16h64a8 8 0 0 1 0 16z" fill="#f6bb92"/>
                        <g fill="#c79777">
                            <circle cx="256" cy="128" r="8"/>
                            <circle cx="256" cy="456" r="8"/>
                            <circle cx="152" cy="456" r="8"/>
                            <circle cx="352" cy="464" r="8"/>
                            <circle cx="392" cy="456" r="8"/>
                            <circle cx="104" cy="464" r="8"/>
                            <circle cx="208" cy="112" r="8"/>
                            <circle cx="390.331" cy="142.331" r="8"/>
                            <circle cx="256.492" cy="76.197" r="8"/>
                            <circle cx="208" cy="168" r="8"/>
                            <circle cx="152" cy="96" r="8"/>
                            <circle cx="148.114" cy="148.111" r="8"/>
                            <circle cx="99.161" cy="167.602" r="8"/>
                            <circle cx="360" cy="104" r="8"/>
                            <circle cx="312" cy="112" r="8"/>
                        </g>
                        <path d="m24 422c29 0 29 20 58 20s29-20 58-20 29 20 58 20 29-20 58-20 29 20 58 20 29-20 58-20 29 20 58 20 29-20 58-20"
                              fill="#fff"/>
                        <path d="m488 422c-29 0-29 20-58 20s-29-20-58-20-29 20-58 20-29-20-58-20-29 20-58 20-29-20-58-20-29 20-58 20-29-20-58-20a41.129 41.129 0 0 1 39.594-30h384.812a41.129 41.129 0 0 1 39.594 30z"
                              fill="#027e2a"/>
                        <path d="m472 208h-432a16 16 0 0 0 -16 16 16 16 0 0 0 16 16h256a24 24 0 0 1 24 24v39.46c0 13.455 11.011 24.791 24.464 24.536a24 24 0 0 0 23.536-23.996v-23.548c0-8.615 6.621-16.029 15.227-16.434a16 16 0 0 1 16.773 15.982 24 24 0 0 0 23.536 24c13.453.251 24.464-11.085 24.464-24.54v-15.46a24 24 0 0 1 24-24 16 16 0 0 0 16-16 16 16 0 0 0 -16-16z"
                              fill="#f7a014"/>
                        <path d="m496 224a24.014 24.014 0 0 0 -12.371-20.985 232.04 232.04 0 0 0 -455.258 0 23.985 23.985 0 0 0 1.869 42.9 47.906 47.906 0 0 0 2.593 70.544 7.958 7.958 0 0 0 -.833 3.541v26.707a27.991 27.991 0 0 0 -1.254 49.951 48.976 48.976 0 0 0 -14.446 23.177 8 8 0 0 0 7.7 10.165c1.3 0 2.511.052 3.669.138a154.6 154.6 0 0 0 30.084 62.862 8 8 0 0 0 6.247 3h384a8 8 0 0 0 6.247-3 154.765 154.765 0 0 0 30.079-62.86c1.159-.085 2.372-.138 3.674-.138a8 8 0 0 0 7.7-10.165 48.976 48.976 0 0 0 -14.448-23.177 27.991 27.991 0 0 0 -1.252-49.953v-26.707a7.958 7.958 0 0 0 -.833-3.539 47.914 47.914 0 0 0 2.6-70.546 24.028 24.028 0 0 0 14.233-21.915zm-379.258-141.122a216.06 216.06 0 0 1 349.902 117.122h-421.288a216.464 216.464 0 0 1 71.386-117.122zm-76.742 149.122a8 8 0 0 1 0-16h432a8 8 0 0 1 0 16 31.8 31.8 0 0 0 -13.509 3 7.891 7.891 0 0 0 -.862.421 32.029 32.029 0 0 0 -17.629 28.579v15.459a16.872 16.872 0 0 1 -5.055 11.963 15.539 15.539 0 0 1 -11.257 4.578 16.077 16.077 0 0 1 -15.688-16 24.112 24.112 0 0 0 -7.435-17.367 23.823 23.823 0 0 0 -17.715-6.606 24.2 24.2 0 0 0 -22.85 24.425v23.548a16.077 16.077 0 0 1 -15.688 16 15.576 15.576 0 0 1 -11.257-4.575 16.872 16.872 0 0 1 -5.055-11.966v-39.459a32.036 32.036 0 0 0 -32-32zm24 16h44.687l-18.344 18.343a8 8 0 0 0 11.314 11.314l29.656-29.657h25.374l-18.344 18.343a8 8 0 0 0 11.314 11.314l29.656-29.657h25.374l-18.344 18.343a8 8 0 0 0 11.314 11.314l29.656-29.657h25.374l-18.344 18.343a8 8 0 0 0 11.314 11.314l29.656-29.657h20.687a15.925 15.925 0 0 1 4.127.559l-17.784 17.784a8 8 0 0 0 11.314 11.314l17.784-17.784a15.925 15.925 0 0 1 .559 4.127v39.459a32.365 32.365 0 0 0 1.163 8.541h-249.163a32 32 0 0 1 0-64zm0 80h216v16h-232v-18.752a47.774 47.774 0 0 0 16 2.752zm284 32a12 12 0 0 1 0 24h-110.707a27.951 27.951 0 0 0 0-24zm100.406 40a33.268 33.268 0 0 1 27.8 15.127c-9.732 2-16.021 6.339-21.746 10.287-6.96 4.797-12.454 8.586-24.46 8.586s-17.5-3.789-24.46-8.586c-7.762-5.35-16.555-11.414-33.547-11.414s-25.785 6.064-33.543 11.414c-6.95 4.797-12.45 8.586-24.458 8.586s-17.5-3.789-24.458-8.586c-7.758-5.35-16.551-11.414-33.542-11.414s-25.783 6.064-33.54 11.415c-6.952 4.796-12.452 8.585-24.452 8.585s-17.5-3.789-24.458-8.585c-7.762-5.351-16.555-11.415-33.542-11.415s-25.784 6.064-33.542 11.414c-6.958 4.797-12.452 8.586-24.458 8.586s-17.5-3.789-24.456-8.585c-5.725-3.949-12.013-8.286-21.744-10.288a33.268 33.268 0 0 1 27.794-15.127zm-404.406-16a12 12 0 0 1 0-24h168a12 12 0 0 1 0 24zm400.087 96h-376.174a138.653 138.653 0 0 1 -21.943-43.114c.817.549 1.641 1.116 2.487 1.7 7.757 5.35 16.549 11.414 33.543 11.414s25.784-6.064 33.542-11.415c6.952-4.796 12.446-8.585 24.458-8.585s17.5 3.789 24.457 8.585c7.755 5.351 16.548 11.415 33.543 11.415s25.782-6.064 33.54-11.415c6.955-4.8 12.448-8.585 24.456-8.585s17.5 3.789 24.458 8.585c7.754 5.351 16.546 11.415 33.538 11.415s25.784-6.064 33.542-11.414c6.956-4.8 12.449-8.586 24.459-8.586s17.5 3.789 24.46 8.586c7.758 5.35 16.547 11.414 33.547 11.414s25.785-6.064 33.544-11.414c.844-.582 1.666-1.149 2.482-1.7a138.878 138.878 0 0 1 -21.939 43.114zm-70.794-96a27.951 27.951 0 0 0 0-24h94.707a12 12 0 0 1 0 24zm90.707-40h-168v-16h27.093a31.385 31.385 0 0 0 20.919 8c.2 0 .4 0 .6-.006a31.806 31.806 0 0 0 20.449-7.994h82.939a47.774 47.774 0 0 0 16-2.752zm-16-32h-73.03a31.583 31.583 0 0 0 1.03-8v-23.548a8.328 8.328 0 0 1 7.6-8.443 8 8 0 0 1 8.4 7.991 32.158 32.158 0 0 0 31.384 31.994 31.437 31.437 0 0 0 22.767-9.151 32.972 32.972 0 0 0 9.849-23.384v-15.459a15.969 15.969 0 0 1 6.232-12.644 31.99 31.99 0 0 1 -14.232 60.644z"/>
                        <path d="m288 184h16a8 8 0 0 0 0-16h-16a8 8 0 0 0 0 16z"/>
                        <path d="m336 184h64a8 8 0 0 0 0-16h-64a8 8 0 0 0 0 16z"/>
                        <circle cx="256" cy="128" r="8"/>
                        <circle cx="256" cy="456" r="8"/>
                        <circle cx="152" cy="456" r="8"/>
                        <circle cx="352" cy="464" r="8"/>
                        <circle cx="392" cy="456" r="8"/>
                        <circle cx="104" cy="464" r="8"/>
                        <circle cx="208" cy="112" r="8"/>
                        <circle cx="390.332" cy="142.331" r="8"/>
                        <circle cx="256.491" cy="76.197" r="8" transform="matrix(.383 -.924 .924 .383 87.94 284.005)"/>
                        <circle cx="208" cy="168" r="8"/>
                        <circle cx="152" cy="96" r="8"/>
                        <circle cx="148.114" cy="148.111" r="8"/>
                        <circle cx="99.161" cy="167.602" r="8"/>
                        <circle cx="360" cy="104" r="8"/>
                        <circle cx="312" cy="112" r="8"/>
                    </g>
                </svg>
            </div>
            <div class="wpp-debug-panel-data">
                <div class="wpp-debug-head">
                    <div class="wpp-debug-close">
                        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                             xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.002 512.002"
                             style="enable-background:new 0 0 512.002 512.002;" xml:space="preserve">
<polygon style="fill:#E0230D;"
         points="504.5,95.181 343.68,256.001 504.5,416.821 483.29,438.041 211.25,256.001 483.29,73.971 "/>
                            <polygon style="fill:#FF5440;" points="483.29,73.971 301.25,256.001 483.29,438.041 416.82,504.501 256,343.681 95.18,504.501
	7.5,416.821 168.32,256.001 7.5,95.181 95.18,7.501 256,168.321 416.82,7.501 "/>
                            <path d="M354.288,256.001l155.516-155.515c2.929-2.93,2.929-7.678,0-10.607L422.123,2.198c-1.407-1.407-3.314-2.197-5.303-2.197
	s-3.896,0.79-5.304,2.196L256,157.713L100.486,2.198c-2.93-2.928-7.678-2.928-10.607,0L2.197,89.879C0.79,91.286,0,93.194,0,95.183
	s0.79,3.896,2.196,5.304l155.517,155.514L93.212,320.5c-2.929,2.93-2.929,7.678,0,10.607c2.929,2.927,7.677,2.929,10.607,0
	l69.804-69.803c1.406-1.407,2.196-3.314,2.196-5.304s-0.79-3.896-2.196-5.304L18.107,95.183l77.075-77.075l155.515,155.516
	c2.93,2.928,7.678,2.928,10.607,0L416.82,18.108l77.074,77.075L338.378,250.698c-2.929,2.93-2.929,7.678,0,10.607L493.894,416.82
	l-77.074,77.075L261.304,338.379c-2.93-2.928-7.678-2.928-10.607,0L95.182,493.895L18.107,416.82l64.5-64.499
	c2.929-2.93,2.929-7.678,0-10.607c-2.931-2.929-7.679-2.928-10.607,0L2.197,411.516c-2.929,2.93-2.929,7.678,0,10.607l87.682,87.682
	c1.465,1.464,3.385,2.196,5.304,2.196s3.839-0.732,5.304-2.196L256,354.289l155.516,155.516c1.407,1.406,3.314,2.196,5.304,2.196
	s3.896-0.79,5.304-2.196l87.681-87.682c2.929-2.93,2.929-7.678,0-10.607L354.288,256.001z"/>
                            <g>
</svg>
                    </div>
                </div>
                <div class="wpp-debug-body">
					<?php global $wpp_debug;
						if ( ! empty( $wpp_debug ) ) {
							foreach ( $wpp_debug as $key => $data ) {
								echo '<div class="wpp_debug_line">';
								if ( $key ) :
									printf( '<span class="wpp_debug_line_head">%s</span>', $key );
								endif;
								echo '<pre>';
								var_dump( $data );
								echo '</pre>';
								echo '</div>';
							}
						}
					?>
                </div>
            </div>
        </div>
        <style>
            .wpp-debug-panel-icon {
                display: inline-block;
                cursor: pointer;
            }

            .wpp-debug-body {
                color: #9c8f8f;
                margin-top: 75px;
            }

            .wpp-debug-panel-icon:hover {
                animation: shake 0.82s cubic-bezier(.36, .07, .19, .97) both;
                -webkit-animation: shake 0.82s cubic-bezier(.36, .07, .19, .97) both;
                -moz-animation: shake 0.82s cubic-bezier(.36, .07, .19, .97) both;
                transform: translate3d(0, 0, 0);
                backface-visibility: hidden;
                perspective: 1000px;
                -webkit-animation-iteration-count: infinite;
                -moz-animation-iteration-count: infinite;
                animation-iteration-count: infinite;
            }

            .wpp-debug-panel-icon {
                position: fixed;
                top: 100px;
                left: 30px;
                z-index: 9999;
            }

            .wpp-debug-panel-data {
                width: 100%;
                background-color: #eee;
                height: 100vh;
                position: fixed;
                top: 0;
                left: 0;
                z-index: 100000;
                display: none;
            }

            .wpp-debug-close {
                width: 40px;
                float: right;
                right: 30px;
                position: absolute;
                top: 5px;
                cursor: pointer;
                transition: 1s all;
            }

            .wpp-debug-close:hover {
                -webkit-animation: pulse 1s ease-in;
                -moz-animation: pulse 1s ease-in;
                animation: pulse 1s ease-in;
                -webkit-animation-iteration-count: infinite;
                -moz-animation-iteration-count: infinite;
                animation-iteration-count: infinite;
            }

            .wpp-debug-head {
                height: 50px;
                background-color: #353839;
                box-shadow: 0 0 0px 2px #414a4c;
                position: fixed;
                top: 0;
                width: 100%;
            }

            .wpp-debug-panel-data {
                background-color: #232b2b;
            }

            .wpp-debug-panel-data {
                overflow-y: scroll;
            }

            .wpp-debug-body pre {
                background: transparent;
            }

            .wpp_debug_line {
                padding: 10px 20px;
                margin: 43px;
                border: 1px solid #3b444b;
            }

            .wpp_debug_line_head {
                font-size: 22px;
                border-bottom: 1px solid;
                margin: 0 0 10px 0;
                display: block;
            }

            @keyframes pulse {
                0% {
                    -webkit-transform: scale(1);

                }
                25% {
                    -webkit-transform: scale(1.1);

                }
                50% {
                    -webkit-transform: scale(1.2);

                }
                75% {
                    -webkit-transform: scale(1.1);

                }
                100% {
                    -webkit-transform: scale(1.0);

                }
            }

            @keyframes shake {
                10% {

                    transform: rotate(5deg);

                }
                20% {

                    transform: rotate(-5deg);
                }
                30% {

                    transform: rotate(5deg);
                }
                40% {

                    transform: rotate(-5deg);
                }
                50% {

                    transform: rotate(5deg);
                }
                60% {

                    transform: rotate(-5deg);
                }
                70% {

                    transform: rotate(5deg);
                }

                80% {

                    transform: rotate(-5deg);
                }
                90% {

                    transform: rotate(5deg);
                }

                100% {

                    transform: rotate(-5deg);
                }

            }

        </style>
        <script>
            jQuery(function ($) {
                $(document).on('click', '.wpp-debug-panel-icon', function (e) {
                    $('.wpp-debug-panel-data').fadeIn();
                })

                $(document).on('click', '.wpp-debug-close', function (e) {
                    $('.wpp-debug-panel-data').fadeOut();
                })
            });
        </script>
		<?php
	}

	add_action( 'wp_footer', 'wpp_debug_panel', 10000 );