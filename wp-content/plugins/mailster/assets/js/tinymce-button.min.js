jQuery(document).ready(function(e){"use strict";var t=mailster_mce_button.l10n,n=mailster_mce_button.forms,a=mailster_mce_button.designs;tinymce.PluginManager.add("mailster_mce_button",function(o,l){o.addButton("mailster_mce_button",{title:t.title,type:"menubutton",icon:"icon mailster-shortcodes-icon",menu:[{text:t.forms,menu:e.map(n,function(e,t){return{text:e,onclick:function(){o.insertContent("[newsletter_signup_form id="+t+"]")}}})},{text:t.homepage.menulabel,onclick:function(){o.windowManager.open({title:t.homepage.title,body:[{type:"textbox",name:"pre",label:t.homepage.prelabel,value:t.homepage.pre},{type:"textbox",name:"confirm",label:t.homepage.confirmlabel,value:t.homepage.confirm},{type:"textbox",name:"unsub",label:t.homepage.unsublabel,value:t.homepage.unsub},{type:"listbox",name:"form",label:t.form,values:e.map(n,function(e,t){return{text:e,value:t}})}],onsubmit:function(e){o.insertContent("[newsletter_signup]"+e.data.pre+"[newsletter_signup_form id="+e.data.form+"][/newsletter_signup][newsletter_confirm]"+e.data.confirm+"[/newsletter_confirm][newsletter_unsubscribe]"+e.data.unsub+"[/newsletter_unsubscribe]")}})}},{text:t.button.menulabel,onclick:function(){o.windowManager.open({title:t.button.title,body:[{type:"textbox",name:"label",label:t.button.labellabel,value:t.button.label},{type:"checkbox",name:"count",label:" ",text:t.button.count,value:1},{type:"checkbox",name:"countabove",label:" ",text:t.button.countabove,value:1},{type:"listbox",name:"design",label:t.button.design,values:e.map(a,function(e,t){return{text:e,value:t}})},{type:"listbox",name:"form",label:t.form,values:e.map(n,function(e,t){return{text:e,value:t}})}],onsubmit:function(e){var t="[newsletter_button id="+e.data.form;t+=' label="'+e.data.label+'"';if(e.data.count)t+=' showcount="true"';if("default"!=e.data.design||e.data.countabove)t+=' design="'+e.data.design+(e.data.countabove?" ontop":"")+'"';t+="]";o.insertContent(t)}})}}]})})});